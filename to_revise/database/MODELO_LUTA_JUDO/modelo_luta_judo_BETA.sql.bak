CREATE TABLE CLASSIFICACAO_KODOKAN (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 descricao VARCHAR(400),
 padrao_ontologia BIT(1) DEFAULT '1'
);

ALTER TABLE CLASSIFICACAO_KODOKAN ADD CONSTRAINT PK_CLASSIFICACAO_KODOKAN PRIMARY KEY (id);


CREATE TABLE CLASSIFICACAO_SACRIPANTI (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 descricao VARCHAR(400),
 padrao_ontologia BIT(1) DEFAULT '1'
);

ALTER TABLE CLASSIFICACAO_SACRIPANTI ADD CONSTRAINT PK_CLASSIFICACAO_SACRIPANTI PRIMARY KEY (id);


CREATE TABLE CONVERSAO_ACAO (
 cd_conversao INT NOT NULL,
 nome_tipo_conversao VARCHAR(100) NOT NULL,
 nome_conversao VARCHAR(100) NOT NULL,
 nome VARCHAR(100),
 id INT,
 id_tipo INT
);

ALTER TABLE CONVERSAO_ACAO ADD CONSTRAINT PK_CONVERSAO_ACAO PRIMARY KEY (cd_conversao,nome_tipo_conversao,nome_conversao);


CREATE TABLE CONVERSAO_ACAO_TIPO (
 cd_conversao INT NOT NULL,
 nome_conversao VARCHAR(100) NOT NULL,
 nome VARCHAR(100),
 id INT
);

ALTER TABLE CONVERSAO_ACAO_TIPO ADD CONSTRAINT PK_CONVERSAO_ACAO_TIPO PRIMARY KEY (cd_conversao,nome_conversao);


CREATE TABLE CONVERSAO_LUTA_ACAO (
 cd_conversao INT NOT NULL,
 id_luta INT NOT NULL,
 sequencia INT NOT NULL,
 momento_inicio VARCHAR(12),
 momento_fim VARCHAR(12),
 quem_faz VARCHAR(100),
 quem_sofre VARCHAR(100),
 acao_tipo VARCHAR(100),
 acao VARCHAR(100),
 tecnica VARCHAR(100),
 direcao INT,
 pontuacao VARCHAR(100)
);

ALTER TABLE CONVERSAO_LUTA_ACAO ADD CONSTRAINT PK_CONVERSAO_LUTA_ACAO PRIMARY KEY (cd_conversao,id_luta,sequencia);


CREATE TABLE CONVERSAO_TECNICA (
 cd_conversao INT NOT NULL,
 nome_conversao VARCHAR(100) NOT NULL,
 nome VARCHAR(100),
 id INT
);

ALTER TABLE CONVERSAO_TECNICA ADD CONSTRAINT PK_CONVERSAO_TECNICA PRIMARY KEY (cd_conversao,nome_conversao);


CREATE TABLE CONVERSAO_TECNICA_DIRECAO (
 cd_conversao INT NOT NULL,
 id_conversao INT NOT NULL,
 id INT NOT NULL
);

ALTER TABLE CONVERSAO_TECNICA_DIRECAO ADD CONSTRAINT PK_CONVERSAO_TECNICA_DIRECAO PRIMARY KEY (cd_conversao,id_conversao);


CREATE TABLE CONVERSAO_TECNICA_PONTUACAO (
 cd_conversao INT NOT NULL,
 nome_conversao VARCHAR(100) NOT NULL,
 nome VARCHAR(100) NOT NULL,
 id INT
);

ALTER TABLE CONVERSAO_TECNICA_PONTUACAO ADD CONSTRAINT PK_CONVERSAO_TECNICA_PONTUACAO PRIMARY KEY (cd_conversao,nome_conversao);


CREATE TABLE FASE_LUTA (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 descricao VARCHAR(400),
 padrao_ontologia BIT(1) DEFAULT '1'
);

ALTER TABLE FASE_LUTA ADD CONSTRAINT PK_FASE_LUTA PRIMARY KEY (id);


CREATE TABLE JUDOCA_FUNCAO (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 padrao_ontologia BIT(1) DEFAULT '1'
);

ALTER TABLE JUDOCA_FUNCAO ADD CONSTRAINT PK_JUDOCA_FUNCAO PRIMARY KEY (id);


CREATE TABLE MOTIVO_PENALIZACAO (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 descricao VARCHAR(400),
 padrao_ontologia BIT(1) DEFAULT '1'
);

ALTER TABLE MOTIVO_PENALIZACAO ADD CONSTRAINT PK_MOTIVO_PENALIZACAO PRIMARY KEY (id);


CREATE TABLE NACAO (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL
);

ALTER TABLE NACAO ADD CONSTRAINT PK_NACAO PRIMARY KEY (id);


CREATE TABLE TECNICA (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 descricao VARCHAR(400),
 valida_em_competicao BIT(1) NOT NULL,
 id_classificacao_kodokan INT,
 id_classificacao_sacripanti INT,
 padrao_ontologia BIT(1) DEFAULT '1'
);

ALTER TABLE TECNICA ADD CONSTRAINT PK_TECNICA PRIMARY KEY (id);


CREATE TABLE TECNICA_DIRECAO (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 descricao VARCHAR(400),
 padrao_ontologia CHAR(10) DEFAULT '1'
);

ALTER TABLE TECNICA_DIRECAO ADD CONSTRAINT PK_TECNICA_DIRECAO PRIMARY KEY (id);


CREATE TABLE TECNICA_PONTUACAO (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 descricao VARCHAR(400),
 padrao_ontologia BIT(1) DEFAULT '1'
);

ALTER TABLE TECNICA_PONTUACAO ADD CONSTRAINT PK_TECNICA_PONTUACAO PRIMARY KEY (id);


CREATE TABLE ACAO_TIPO (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 descricao VARCHAR(400),
 id_fase_luta INT NOT NULL,
 padrao_ontologia BIT(1) DEFAULT '1'
);

ALTER TABLE ACAO_TIPO ADD CONSTRAINT PK_ACAO_TIPO PRIMARY KEY (id);


CREATE TABLE CIDADE (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 id_nacao INT NOT NULL
);

ALTER TABLE CIDADE ADD CONSTRAINT PK_CIDADE PRIMARY KEY (id);


CREATE TABLE FEDERACAO_NACIONAL (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 sigla VARCHAR(10) NOT NULL,
 id_cidade_sede INT NOT NULL
);

ALTER TABLE FEDERACAO_NACIONAL ADD CONSTRAINT PK_FEDERACAO_NACIONAL PRIMARY KEY (id);


CREATE TABLE JUDOCA (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 data_nascimento DATE,
 altura_cm INT,
 peso_kg FLOAT(3),
 id_cidade_nascimento INT,
 id_federacao_nacional INT,
 id_funcao INT NOT NULL
);

ALTER TABLE JUDOCA ADD CONSTRAINT PK_JUDOCA PRIMARY KEY (id);


CREATE TABLE ACAO (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 descricao VARCHAR(400),
 id_tipo INT NOT NULL,
 padrao_ontologia BIT(1) DEFAULT '1'
);

ALTER TABLE ACAO ADD CONSTRAINT PK_ACAO PRIMARY KEY (id);


CREATE TABLE COMPETICAO (
 id INT NOT NULL,
 nome VARCHAR(100) NOT NULL,
 data_inicio DATE,
 data_fim DATE,
 id_cidade_sede INT NOT NULL,
 id_federacao_organizadora INT
);

ALTER TABLE COMPETICAO ADD CONSTRAINT PK_COMPETICAO PRIMARY KEY (id);


CREATE TABLE COMPETICAO_FASE (
 id_competicao INT NOT NULL,
 id_fase INT NOT NULL,
 nome VARCHAR(100) NOT NULL
);

ALTER TABLE COMPETICAO_FASE ADD CONSTRAINT PK_COMPETICAO_FASE PRIMARY KEY (id_competicao,id_fase);


CREATE TABLE LUTA (
 id INT NOT NULL,
 data_hora DATE,
 duracao_prevista_s INT,
 id_competicao INT,
 id_fase INT,
 id_arbitro INT NOT NULL,
 id_lutador1 INT NOT NULL,
 id_lutador2 INT NOT NULL
);

ALTER TABLE LUTA ADD CONSTRAINT PK_LUTA PRIMARY KEY (id);


CREATE TABLE LUTA_ACAO (
 id_luta INT NOT NULL,
 sequencia INT NOT NULL,
 momento TIME,
 id_quem_faz INT NOT NULL,
 id_quem_recebe INT,
 id_acao INT NOT NULL,
 id_tecnica INT,
 id_direcao INT,
 id_pontuacao INT,
 id_motivo_penalizacao INT
);

ALTER TABLE LUTA_ACAO ADD CONSTRAINT PK_LUTA_ACAO PRIMARY KEY (id_luta,sequencia);


ALTER TABLE TECNICA ADD CONSTRAINT FK_TECNICA_0 FOREIGN KEY (id_classificacao_kodokan) REFERENCES CLASSIFICACAO_KODOKAN (id);
ALTER TABLE TECNICA ADD CONSTRAINT FK_TECNICA_1 FOREIGN KEY (id_classificacao_sacripanti) REFERENCES CLASSIFICACAO_SACRIPANTI (id);


ALTER TABLE ACAO_TIPO ADD CONSTRAINT FK_ACAO_TIPO_0 FOREIGN KEY (id_fase_luta) REFERENCES FASE_LUTA (id);


ALTER TABLE CIDADE ADD CONSTRAINT FK_CIDADE_0 FOREIGN KEY (id_nacao) REFERENCES NACAO (id);


ALTER TABLE FEDERACAO_NACIONAL ADD CONSTRAINT FK_FEDERACAO_NACIONAL_0 FOREIGN KEY (id_cidade_sede) REFERENCES CIDADE (id);


ALTER TABLE JUDOCA ADD CONSTRAINT FK_JUDOCA_0 FOREIGN KEY (id_cidade_nascimento) REFERENCES CIDADE (id);
ALTER TABLE JUDOCA ADD CONSTRAINT FK_JUDOCA_1 FOREIGN KEY (id_federacao_nacional) REFERENCES FEDERACAO_NACIONAL (id);
ALTER TABLE JUDOCA ADD CONSTRAINT FK_JUDOCA_2 FOREIGN KEY (id_funcao) REFERENCES JUDOCA_FUNCAO (id);


ALTER TABLE ACAO ADD CONSTRAINT FK_ACAO_0 FOREIGN KEY (id_tipo) REFERENCES ACAO_TIPO (id);


ALTER TABLE COMPETICAO ADD CONSTRAINT FK_COMPETICAO_0 FOREIGN KEY (id_cidade_sede) REFERENCES CIDADE (id);
ALTER TABLE COMPETICAO ADD CONSTRAINT FK_COMPETICAO_1 FOREIGN KEY (id_federacao_organizadora) REFERENCES FEDERACAO_NACIONAL (id);


ALTER TABLE COMPETICAO_FASE ADD CONSTRAINT FK_COMPETICAO_FASE_0 FOREIGN KEY (id_competicao) REFERENCES COMPETICAO (id);


ALTER TABLE LUTA ADD CONSTRAINT FK_LUTA_0 FOREIGN KEY (id_competicao,id_fase) REFERENCES COMPETICAO_FASE (id_competicao,id_fase);
ALTER TABLE LUTA ADD CONSTRAINT FK_LUTA_1 FOREIGN KEY (id_arbitro) REFERENCES JUDOCA (id);
ALTER TABLE LUTA ADD CONSTRAINT FK_LUTA_2 FOREIGN KEY (id_lutador1) REFERENCES JUDOCA (id);
ALTER TABLE LUTA ADD CONSTRAINT FK_LUTA_3 FOREIGN KEY (id_lutador2) REFERENCES JUDOCA (id);


ALTER TABLE LUTA_ACAO ADD CONSTRAINT FK_LUTA_ACAO_0 FOREIGN KEY (id_luta) REFERENCES LUTA (id);
ALTER TABLE LUTA_ACAO ADD CONSTRAINT FK_LUTA_ACAO_1 FOREIGN KEY (id_quem_faz) REFERENCES JUDOCA (id);
ALTER TABLE LUTA_ACAO ADD CONSTRAINT FK_LUTA_ACAO_2 FOREIGN KEY (id_quem_recebe) REFERENCES JUDOCA (id);
ALTER TABLE LUTA_ACAO ADD CONSTRAINT FK_LUTA_ACAO_3 FOREIGN KEY (id_acao) REFERENCES ACAO (id);
ALTER TABLE LUTA_ACAO ADD CONSTRAINT FK_LUTA_ACAO_4 FOREIGN KEY (id_tecnica) REFERENCES TECNICA (id);
ALTER TABLE LUTA_ACAO ADD CONSTRAINT FK_LUTA_ACAO_5 FOREIGN KEY (id_direcao) REFERENCES TECNICA_DIRECAO (id);
ALTER TABLE LUTA_ACAO ADD CONSTRAINT FK_LUTA_ACAO_6 FOREIGN KEY (id_pontuacao) REFERENCES TECNICA_PONTUACAO (id);
ALTER TABLE LUTA_ACAO ADD CONSTRAINT FK_LUTA_ACAO_7 FOREIGN KEY (id_motivo_penalizacao) REFERENCES MOTIVO_PENALIZACAO (id);


